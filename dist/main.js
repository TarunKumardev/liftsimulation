(()=>{const e=document.querySelector(".sahi"),t=e=>{const t=document.getElementById("groundFloor");for(let l=0;l<e;l++){const e=document.createElement("div"),l=document.createElement("span"),n=document.createElement("span");t.appendChild(e),e.append(l,n),e.setAttribute("class","lifts"),l.setAttribute("class","liftDoor"),n.setAttribute("class","liftDoor")}};let l=[];const n=(e,t,l,n)=>{const r=Array.from(document.querySelectorAll(".lifts")),o=Array.from(document.querySelectorAll(".liftDoor"));n[t]=!0;let s=document.querySelectorAll(".floor")[0].offsetHeight,a=""+2*Math.abs(e-l[t]);r[t].style.transform=`translateY(-${e*s/10}rem)`,r[t].style.transition=`transform ${a}s ease-in-out 0s`,setTimeout((()=>{console.log("lift open"),o[2*t].style.transform="translateX(-95%)",o[2*t].style.transition="all 2s ease-in-out 1s",o[2*t+1].style.transform="translateX(95%)",o[2*t+1].style.transition="all 2s ease-in-out 1s"}),1e3*+a+500),setTimeout((()=>{console.log("lift close"),o[2*t].style.transform="translateX(0%)",o[2*t].style.transition="all 2s ease-in-out 1s",o[2*t+1].style.transform="translateX(0%)",o[2*t+1].style.transition="all 2s ease-in-out 1s",setTimeout((()=>{n[t]=!1}),2500)}),1e3*(+a+3.5)),l[t]=+e};function r(e,t,l){let n=[];for(let l of t)n.push(Math.abs(l-+e));let r=100,o=-1;for(let e=0;e<n.length;e++)n[e]<r&&!1===l[e]&&(r=n[e],o=e);return o}function o(e,t,o,s){const a=document.querySelectorAll(".up_btn"),i=document.querySelectorAll(".down_btn");a.forEach(((a,i)=>{e==i&&a.addEventListener("click",(()=>{const e=""+(t-i);if(0===o[0])!1===s[0]&&n(e,0,o,s);else{let t=r(e,o,s);if(!1===s[t])n(e,t,o,s);else{l.includes(e)||l.push(e);let t=setInterval((()=>{if(s.some((e=>!1===e))&&l.length>0){let e=r(l[0],o,s);n(l[0],e,o,s),l.shift()}}),500);0===l.length&&clearInterval(t)}console.log(`queue = ${l}`)}}))})),i.forEach(((a,i)=>{e==i&&a.addEventListener("click",(()=>{const e=""+(t-i);if(0===o[0])!1===s[0]&&n(e,0,o,s);else{let t=r(e,o,s);if(!1===s[t])n(e,t,o,s);else{l.includes(e)||l.push(e);let t=setInterval((()=>{if(s.some((e=>!1===e))&&l.length>0){let e=r(l[0],o,s);n(l[0],e,o,s),l.shift()}}),500);0===l.length&&clearInterval(t)}}console.log(`queue = ${l}`)}))}))}document.getElementById("startBtn").addEventListener("click",(n=>{n.preventDefault();let r=document.getElementById("floorVal").value,s=document.getElementById("liftVal").value;console.log(r,s),""!==r&&""!==s?r<1||s<1?alert("Please enter valid details!"):Number(s)>10?alert("Number of lifts can not be greater than 10!"):Number(s)>Number(r)?alert("Number of lifts can not be greater than number of floors!"):window.innerWidth<300&&Number(s)>4?alert("Number of lifts can not be greater than 4!"):window.innerWidth<400&&Number(s)>5?alert("Number of lifts can not be greater than 5!"):window.innerWidth<500&&Number(s)>6?alert("Number of lifts can not be greater than 6!"):(e.style.display="none",document.querySelector(".container").style.display="block",((e,n)=>{let r=document.getElementById("liftDiv");r.innerHTML="",l=[];let s,a,i,c,u=Array(+n).fill(0),d=Array(+n).fill(!1);for(var m=0;m<=e;m++){let l=document.createElement("div");s=document.createElement("div"),a=document.createElement("p"),i=document.createElement("button"),c=document.createElement("button"),l.setAttribute("class","floor"),s.setAttribute("class","floorInfo"),i.setAttribute("class","up_btn"),c.setAttribute("class","down_btn"),a.innerHTML="Floor "+(e-m),i.innerHTML="▲",c.innerHTML="▼",r.appendChild(l),l.appendChild(s),s.append(i,a,c),m==e&&(l.setAttribute("id","groundFloor"),t(n)),o(m,e,u,d)}})(r,s)):alert("Please enter the details!")})),document.querySelector(".back").addEventListener("click",(()=>{e.style.display="flex",document.querySelector("#liftDiv").innerHTML="",document.querySelector("#floorVal").value="",document.querySelector("#liftVal").value="",document.querySelector(".container").style.display="none"}))})();