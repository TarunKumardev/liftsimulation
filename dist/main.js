(()=>{const e=document.querySelector(".sahi"),t=(document.querySelector("#floorVal"),document.querySelector("#liftVal"));window.innerWidth<300&&(t.placeholder="Number of lifts can not be greater than 4!"),window.innerWidth<400&&(t.placeholder="Number of lifts can not be greater than 5!"),window.innerWidth<500&&(t.placeholder="Number of lifts can not be greater than 6!");const l=e=>{const t=document.getElementById("groundFloor");for(let l=0;l<e;l++){const e=document.createElement("div"),l=document.createElement("span"),n=document.createElement("span");t.appendChild(e),e.append(l,n),e.setAttribute("class","lifts"),l.setAttribute("class","liftDoor"),n.setAttribute("class","liftDoor")}};let n=[];const r=(e,t,l,n)=>{const r=Array.from(document.querySelectorAll(".lifts")),o=Array.from(document.querySelectorAll(".liftDoor"));n[t]=!0;let a=document.querySelectorAll(".floor")[0].offsetHeight,s=""+2*Math.abs(e-l[t]);r[t].style.transform=`translateY(-${e*a/10}rem)`,r[t].style.transition=`transform ${s}s ease-in-out 0s`,setTimeout((()=>{console.log("lift open"),o[2*t].style.transform="translateX(-95%)",o[2*t].style.transition="all 2s ease-in-out 1s",o[2*t+1].style.transform="translateX(95%)",o[2*t+1].style.transition="all 2s ease-in-out 1s"}),1e3*+s+500),setTimeout((()=>{console.log("lift close"),o[2*t].style.transform="translateX(0%)",o[2*t].style.transition="all 2s ease-in-out 1s",o[2*t+1].style.transform="translateX(0%)",o[2*t+1].style.transition="all 2s ease-in-out 1s",setTimeout((()=>{n[t]=!1}),2500)}),1e3*(+s+3.5)),l[t]=+e};function o(e,t,l){let n=[];for(let l of t)n.push(Math.abs(l-+e));let r=100,o=-1;for(let e=0;e<n.length;e++)n[e]<r&&!1===l[e]&&(r=n[e],o=e);return o}function a(e,t,l,a){const s=document.querySelectorAll(".up_btn"),i=document.querySelectorAll(".down_btn");s.forEach(((s,i)=>{e==i&&s.addEventListener("click",(()=>{const e=""+(t-i);if(0===l[0])!1===a[0]&&r(e,0,l,a);else{let t=o(e,l,a);if(!1===a[t])r(e,t,l,a);else{n.includes(e)||n.push(e);let t=setInterval((()=>{if(a.some((e=>!1===e))&&n.length>0){let e=o(n[0],l,a);r(n[0],e,l,a),n.shift()}}),500);0===n.length&&clearInterval(t)}console.log(`queue = ${n}`)}}))})),i.forEach(((s,i)=>{e==i&&s.addEventListener("click",(()=>{const e=""+(t-i);if(0===l[0])!1===a[0]&&r(e,0,l,a);else{let t=o(e,l,a);if(!1===a[t])r(e,t,l,a);else{n.includes(e)||n.push(e);let t=setInterval((()=>{if(a.some((e=>!1===e))&&n.length>0){let e=o(n[0],l,a);r(n[0],e,l,a),n.shift()}}),500);0===n.length&&clearInterval(t)}}console.log(`queue = ${n}`)}))}))}document.getElementById("startBtn").addEventListener("click",(t=>{t.preventDefault();let r=document.getElementById("floorVal").value,o=document.getElementById("liftVal").value;""!==r&&""!==o?r<1||o<1?alert("Please enter valid details!"):Number(o)>10?alert("Number of lifts can not be greater than 10!"):Number(o)>Number(r)?alert("Number of lifts can not be greater than number of floors!"):window.innerWidth<300&&Number(o)>4?alert("Number of lifts can not be greater than 4!"):window.innerWidth<400&&Number(o)>5?alert("Number of lifts can not be greater than 5!"):window.innerWidth<500&&Number(o)>6?alert("Number of lifts can not be greater than 6!"):(e.style.display="none",document.querySelector(".container").style.display="block",((e,t)=>{let r=document.getElementById("liftDiv");r.innerHTML="",n=[];let o,s,i,c,u=Array(+t).fill(0),d=Array(+t).fill(!1);for(var m=0;m<=e;m++){let n=document.createElement("div");o=document.createElement("div"),s=document.createElement("p"),i=document.createElement("button"),c=document.createElement("button"),n.setAttribute("class","floor"),o.setAttribute("class","floorInfo"),i.setAttribute("class","up_btn"),c.setAttribute("class","down_btn"),s.innerHTML="Floor "+(e-m),i.innerHTML="▲",c.innerHTML="▼",0===m&&(i.style.display="none"),console.log(m,e),m===Number(e)&&(c.style.display="none"),r.appendChild(n),n.appendChild(o),o.append(i,s,c),m==e&&(n.setAttribute("id","groundFloor"),l(t)),a(m,e,u,d)}})(r,o)):alert("Please enter the details!")})),document.querySelector(".back").addEventListener("click",(()=>{e.style.display="flex",document.querySelector("#liftDiv").innerHTML="",document.querySelector("#floorVal").value="",document.querySelector("#liftVal").value="",document.querySelector(".container").style.display="none"}))})();